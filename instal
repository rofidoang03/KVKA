#!/bin/bash

nanya(){
    read -p "Apakah Anda ingin menginstal kvka [Y/n] : " n
    if [ "$n" == "Y" ] || [ "$n" == "y" ]; then
        instal_kvka
    elif [ "$n" == "N" ] || [ "$n" == "n" ]; then
        exit 0
    else
        echo "Masukan tidak valid."
        exit 1
    fi
}

cek_koneksi_internet(){
    ping -c 1 google.com >> /dev/null 2>&1
    if [ $? -eq 0 ]; then
        echo "Anda memiliki koneksi internet."
    else
        echo "Tidak ada koneksi internet."
    fi
}

instal_kvka(){
    clear
    echo "[*] Memperbaharui repositori."
    apt-get update -y >> /dev/null 2>&1
    echo "[+] Repositori berhasil diperbaharui."
    echo "[*] Menginstal FFmpeg."
    apt-get install ffmpeg -y >> /dev/null 2>&1
    echo "[+] Ffmpeg berhasil diinstal."
    echo "[*] Menginstal pv."
    apt-get install pv -y >> /dev/null 2>&1
    echo "[+] pv berhasil diinstal."
    mkdir -p "/root/kvka/hasil_konversi"
    program="src/kvka"
    chmod a+rwx "${program}"
    mv "${program}" /usr/bin/
    echo "[+] Instalasi selesai."
    exit 0
}
